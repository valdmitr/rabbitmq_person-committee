# rabbitmq_person-committee
*Задача про получение вида на жительство.*

Нужно спроектировать систему, которая выдает человеку разрешение на проживание:
1) Человек подает заявку на документ в комитет по работе с мигрантами (фио, возраст);
2) Заявку принимает комитет по работе с мигрантами;
3) Комитет отправляет запрос в МВД на предмет благонадежности;
4) Параллельно комитет отправляет запрос в МИД;
5) МВД отправляет запрос во внутреннюю и международные базы (параллельно);
6) Если оба запроса от МВД прошли успешно, МВД посылает комитету положительный ответ;
7) Если запрос от МВД и МИД успешен, комитет отправляет запрос в министерство соцобеспечения;
8) После получения одобрения от министерства соцобеспечения комитет отправляет человеку запрос, предварительно все хорошо и что он теперь должен сдать экзамены по языку и оплатить специальную пошлину;
9) Человек посылает запрос в службу, принимающую такие экзамены;
10) От службы приходит ответ (сдал);
11) После того, как человек сдал экзамен по языку, он посылает запрос в банк на оплату пошлины (сумма и тип сообщения - "пошлина");
12) Банк получает сообщение, понимает, что сумма достаточна и присылает одобрение (человеку, и в главный комитет - какой-нибудь код, который можно сличить)
13) Затем человек посылает запрос со всеми одобрениями (экзамены по языку сдал, пошлину оплатил) в комитет;
14) Комитет проверяет, что пошлена уплочена;
15) После этого комитет делает запрос на регистрацию в налоговую;
16) Налоговая регистрирует человека и присылает его ИНН;
17) Комитет отправляет человеку ИНН и поздравляет (сообщение), что он теперь зарегистрирован;
